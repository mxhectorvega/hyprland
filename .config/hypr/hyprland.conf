# Configuración para Hyprland
# https://github.com/mxhectorvega/hyprland
# Versión: v1.2: 01/04/2023

# Para obtener una lista completa, de las configuraciones consulte la wiki https://wiki.hyprland.org

# Configuración para la pantalla o monitor
# Consulte https://wiki.hyprland.org/Configuring/Monitors para mas información.
monitor=,preferred,auto,1.25

# Conslte https://wiki.hyprland.org/Configuring/Keywords para mas información
# Source a file (multi-file configs)
# source = ~/.config/hypr/myColors.conf

# For all categories, see https://wiki.hyprland.org/Configuring/Variables/
input {
    kb_layout = es
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1

    touchpad {
        natural_scroll = no
    }

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

general {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    gaps_in = 2.5
    gaps_out = 5
    border_size = 2
    col.active_border = rgba(576ba5aa) rgba(111111aa) 45deg
    col.inactive_border = rgba(222222aa)

    layout = dwindle
}

decoration {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    rounding = 10
    multisample_edges=1

    active_opacity=1.0
    inactive_opacity=1.0
    fullscreen_opacity=1.0

    blur=1
    blur_size= 3
    blur_passes= 3 # minimum 1, more passes = more resource intensive.
    blur_ignore_opacity=1

#    blur = yes
#    blur_size = 3
#    blur_passes = 1
#    blur_new_optimizations = on

#    drop_shadow = yes
#    shadow_range = 4
#    shadow_render_power = 3
#    col.shadow = rgba(1a1a1aee)
}

animations {
    enabled = yes

    # Animaciones predeterminadas, consulte https://wiki.hyprland.org/Configuring/Animations para mas informacion.

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = yes # you probably want this
}

master {
    # See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
    new_is_master = true
}

gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    workspace_swipe = off
}

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#executing for more
device:epic mouse V1 {
    sensitivity = -0.5
}

# http://wiki.hyprland.org/Configuring/Variables/#misc
misc {
    disable_hyprland_logo = true
}

## Reglas para las ventanas
# Consulte https://wiki.hyprland.org/Configuring/Window-Rules para mas ejemplos
# windowrule = movetoworkspace, 2, ^(nautilus)$
# Example windowrule v2
# windowrulev2 = float,class:^(kitty)$,title:^(kitty)$

# Aplicaciones flotantes
windowrule=float,yad|nm-connection-editor|pavucontrolk|polkit-gnome|xfce-polkit|kvantummanager|qt5ct|feh|Viewnior|Gpicview|Gimp|MPlayer|VirtualBox Manager|qemu|Qemu-system-x86_64|Spotify|mpv|polkit-gnome|org.gnome.Calculator

# Centrar aplicaciones flotantes
windowrule=center,yad|nm-connection-editor|pavucontrolk|polkit-gnome|xfce-polkit|kvantummanager|qt5ct|feh|Viewnior|Gpicview|MPlayer|virt-manager|qemu|Qemu-system-x86_64|Spotify|mpv

# Terminal Foot
windowrule=opacity 0.8,foot
windowrule=float,foot_float
windowrule=size 60% 60%,kitty_float
windowrule=center,foot_float

# Terminal Kitty
windowrule=opacity 0.8,kitty
windowrule=float,kitty_float
windowrule=size 60% 60%,kitty_float
windowrule=center,kitty_float

# Terminal Gnome
windowrule=opacity 0.8,gnome-terminal
windowrule=float,gnome-terminal_float
windowrule=size 60% 60%,gnome-terminal_float
windowrule=center,gnome-terminal_float

# Administrador de archivos
windowrule=opacity 0.8,thunar
windowrule=size 50% 50%,org.gnome.Nautilus
windowrule=center,thunar_float
windowrulev2=float,title:^(.*)(archivo)(.*)$

# Administrador de archivos
windowrule=opacity 0.8,org.gnome.Nautilus
windowrule=float,org.gnome.Nautilus_float
windowrule=size 50% 50%,org.gnome.Nautilus_float
windowrule=center,org.gnome.Nautilus_float

# Editor de texto
windowrule=opacity 0.8,org.gnome.TextEditor
windowrule=size 60%70%,org.gnome.TextEditor
windowrule=center,org.gnome.TextEditors
windowrulev2=size 60% 70%,title:^(.*)(brir)(.*)$
windowrulev2=center,title:^(.*)(brir)(.*)$

# Spotify
windowrule=opacity 0.85,Spotify

# Portales
windowrule=float,xdg-desktop-portal-gtk
windowrule=size 60% 70%,xdg-desktop-portal-gnome
windowrule=float,xdg-desktop-portal-gnome
windowrule=size 60% 70%,xdg-desktop-portal-gnome
windowrule=float,xdg-desktop-portal-wrl
windowrule=size 60% 70%,xdg-desktop-portal-wrl

# VSCodium
windowrule=opacity 0.9,VSCodium

# Mpv
windowrule=size 70% 70%,mpv

# Steam
windowrule=size 70% 70%,steam.exe

#Flotante en todos los espacios de trabajo
windowrulev2=pin,title:^(.*)(etflix)(.*)$
windowrulev2=pin,title:^(.*)(magen en imagen)(.*)$

# Blur para waybar
blurls=waybar
blurls=mako
blurls=wofi
blurls=swaylock

## Defina las teclas especiales
# Consulte https://wiki.hyprland.org/Configuring/Keywords para mas información
$mainMod = SUPER

## Atajos del teclado
# Consulte https://wiki.hyprland.org/Configuring/Binds para mas ejemplos.
bind = $mainMod, return, exec, kitty
bind = $mainMod, Q, killactive, 
bind = $mainMod SHIFT, Q, exit, 
bind = $mainMod, E, exec, thunar
bind = $mainMod, space, togglefloating, 
bind = $mainMod, D, exec, pkill wofi;wofi -p Buscar... --no-actions --allow-images --show drun -n -i -I -W 400 -H 300
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, J, togglesplit, # dwindle
bind = $mainMod, R, exec, hyprctl reload

# Moverse a ventana con mainMod + teclas de flecha
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, MINUS, workspace, special 
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

bind = $mainMod CTRL, 1, movetoworkspacesilent, 1
bind = $mainMod CTRL, 2, movetoworkspacesilent, 2
bind = $mainMod CTRL, 3, movetoworkspacesilent, 3
bind = $mainMod CTRL, 4, movetoworkspacesilent, 4
bind = $mainMod CTRL, 5, movetoworkspacesilent, 5
bind = $mainMod CTRL, 6, movetoworkspacesilent, 6
bind = $mainMod CTRL, 7, movetoworkspacesilent, 7
bind = $mainMod CTRL, 8, movetoworkspacesilent, 8
bind = $mainMod CTRL, 9, movetoworkspacesilent, 9
bind = $mainMod CTRL, 0, movetoworkspacesilent, 10

# Desplácese por los espacios de trabajo existentes con mainMod + scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Mover/cambiar el tamaño de las ventanas con mainMod + LMB/RMB y arrastre
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

## Teclas de funciones multimedia y brillo
bind=,XF86MonBrightnessDown,exec,brightnessctl set 10%-
bind=,XF86MonBrightnessUp,exec,brightnessctl set +10%
bind=,XF86AudioRaiseVolume,exec,pactl set-sink-volume @DEFAULT_SINK@ +5%
bind=,XF86AudioLowerVolume,exec,pactl set-sink-volume @DEFAULT_SINK@ -5%
bind=,XF86AudioMute,exec,pactl set-sink-mute @DEFAULT_SINK@ toggle
bind=,XF86AudioMicMute,exec,pactl set-source-mute @DEFAULT_SOURCE@ toggle
bind=,XF86AudioNext,exec,playerctl next
bind=,XF86AudioPrev,exec,playerctl previous
bind=,XF86AudioPlay,exec,playerctl play-pause
bind=,XF86AudioStop,exec,playerctl stop

# Captura de pantalla completa + portapapeles.
bind=,Print,exec,grim  - | wl-copy && exec notify-send -t 10000 -i $HOME/.config/mako/hypr.ico 'Clipoard' 'La captura de pantalla se guardo en el portapapeles'

# Captura de pantalla (arrastrar y seleccionar) + portapapeles.
bind = $mainMod SHIFT, S, exec, grim -g "$(slurp)" - | wl-copy && exec notify-send -t 10000 -i $HOME/.config/mako/hypr.ico 'Clipoard' 'La captura de pantalla se guardo en el portapapeles'

# Captura de pantalla completa
bind=CTRL,Print,exec,grim $(xdg-user-dir PICTURES)/$(date +'captura_%Y-%m-%d_%H-%M-%S.png')&& exec notify-send -t 10000 -i $HOME/.config/mako/hypr.ico 'Screenshot' 'La captura de pantalla se guardo en el directorio Imagenes'

# Captura de pantalla (arrastrar y seleccionar)
bind=SHIFT,Print,exec, grim -g "$(slurp)" $(xdg-user-dir PICTURES)/$(date +'recorte_%Y-%m-%d_%H-%M-%S.png') && exec notify-send -t 10000 -i $HOME/.config/mako/hypr.ico 'Screenshot' 'La captura de pantalla se guardo en el directorio Imagenes'

## Auto arranque
# Wallpaper
exec-once = swaybg -i $HOME/.config/background

# Statusbar (waybar).
exec-once=sh $HOME/.config/waybar/windows_style/scripts/modo-obscuro
#exec-once=sh $HOME/.config/waybar/yabai_style/scripts/modo-obscuro

# Polkit
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# Portapapeles
exec-once = wl-paste -t text --watch clipman store
#exec-once =  wl-paste -t text --watch clipman store 1>> PATH/TO/LOGFILE 2>&1 &
#exec-once = wl-paste -p -t text --watch clipman store -P --histpath="~/.local/share/clipman-primary.json"

# Desktop portal WLR
exec-once=/usr/libexec/xdg-desktop-portal-wlr

# Variables de entorno
exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once=systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

# Espacios de trabajo inteligentes 
exec-once=hyprland-autoname-workspaces

# Caffeine
#exec-once = swayidle timeout 900 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on'

